!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=17)}([function(t,e){t.exports=require("path")},function(t,e,n){var r=n(5),o=n(20),i=n(22),c=[],s=n(24);var u,a,l=function(){};function f(t){o(t),t.gracefulify=f,t.FileReadStream=y,t.FileWriteStream=m,t.createReadStream=function(t,e){return new y(t,e)},t.createWriteStream=function(t,e){return new m(t,e)};var e=t.readFile;t.readFile=function(t,n,r){"function"==typeof n&&(r=n,n=null);return function t(n,r,o){return e(n,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof o&&o.apply(this,arguments),d()):p([t,[n,r,o]])}))}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,o){"function"==typeof r&&(o=r,r=null);return function t(e,r,o,i){return n(e,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof i&&i.apply(this,arguments),d()):p([t,[e,r,o,i]])}))}(t,e,r,o)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,o){"function"==typeof n&&(o=n,n=null);return function t(e,n,o,i){return r(e,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof i&&i.apply(this,arguments),d()):p([t,[e,n,o,i]])}))}(t,e,n,o)});var c=t.readdir;function s(e){return c.apply(t,e)}if(t.readdir=function(t,e,n){var r=[t];"function"!=typeof e?r.push(e):n=e;return r.push((function(t,e){e&&e.sort&&e.sort();!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof n&&n.apply(this,arguments),d()):p([s,[r]])})),s(r)},"v0.8"===process.version.substr(0,4)){var u=i(t);y=u.ReadStream,m=u.WriteStream}var a=t.ReadStream;y.prototype=Object.create(a.prototype),y.prototype.open=function(){var t=this;S(t.path,t.flags,t.mode,(function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())}))};var l=t.WriteStream;function y(t,e){return this instanceof y?(a.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function m(t,e){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}m.prototype=Object.create(l.prototype),m.prototype.open=function(){var t=this;S(t.path,t.flags,t.mode,(function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))}))},t.ReadStream=y,t.WriteStream=m;var h=t.open;function S(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,o){return h(e,n,r,(function(i,c){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof o&&o.apply(this,arguments),d()):p([t,[e,n,r,o]])}))}(t,e,n,r)}return t.open=S,t}function p(t){l("ENQUEUE",t[0].name,t[1]),c.push(t)}function d(){var t=c.shift();t&&(l("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}s.debuglog?l=s.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(l=function(){var t=s.format.apply(s,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){l(c),n(10).equal(c.length,0)})),t.exports=f(n(9)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&(t.exports=f(r)),t.exports.close=r.close=(u=r.close,function(t,e){return u.call(r,t,(function(t){t||d(),"function"==typeof e&&e.apply(this,arguments)}))}),t.exports.closeSync=r.closeSync=(a=r.closeSync,function(t){var e=a.apply(r,arguments);return d(),e})},function(t,e,n){"use strict";e.fromCallback=function(t){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((e,n)=>{arguments[arguments.length]=(t,r)=>{if(t)return n(t);e(r)},arguments.length++,t.apply(this,arguments)});t.apply(this,arguments)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(){const e=arguments[arguments.length-1];if("function"!=typeof e)return t.apply(this,arguments);t.apply(this,arguments).then(t=>e(null,t),e)}),"name",{value:t.name})}},function(t,e,n){"use strict";const r=(0,n(2).fromCallback)(n(26)),o=n(27);t.exports={mkdirs:r,mkdirsSync:o,mkdirp:r,mkdirpSync:o,ensureDir:r,ensureDirSync:o}},function(t,e,n){"use strict";const r=n(2).fromPromise,o=n(8);t.exports={pathExists:r((function(t){return o.access(t).then(()=>!0).catch(()=>!1)})),pathExistsSync:o.existsSync}},function(t,e){t.exports=require("fs")},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(31);t.exports={remove:r(o),removeSync:o.sync}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(39);t.exports={readJson:r(o.readFile),readJsonSync:o.readFileSync,writeJson:r(o.writeFile),writeJsonSync:o.writeFileSync}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(1),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof o[t]);Object.keys(o).forEach(t=>{"promises"!==t&&(e[t]=o[t])}),i.forEach(t=>{e[t]=r(o[t])}),e.exists=function(t,e){return"function"==typeof e?o.exists(t,e):new Promise(e=>o.exists(t,e))},e.read=function(t,e,n,r,i,c){return"function"==typeof c?o.read(t,e,n,r,i,c):new Promise((c,s)=>{o.read(t,e,n,r,i,(t,e,n)=>{if(t)return s(t);c({bytesRead:e,buffer:n})})})},e.write=function(t,e,...n){return"function"==typeof n[n.length-1]?o.write(t,e,...n):new Promise((r,i)=>{o.write(t,e,...n,(t,e,n)=>{if(t)return i(t);r({bytesWritten:e,buffer:n})})})}},function(t,e,n){"use strict";var r=n(5);t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:t.__proto__};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(r)},function(t,e){t.exports=require("assert")},function(t,e,n){"use strict";t.exports={copySync:n(25)}},function(t,e,n){"use strict";const r=n(0);function o(t){return(t=r.normalize(r.resolve(t)).split(r.sep)).length>0?t[0]:null}const i=/[<>:"|?*]/;t.exports={getRootPath:o,invalidWin32Path:function(t){const e=o(t);return t=t.replace(e,""),i.test(t)}}},function(t,e,n){"use strict";const r=n(1),o=n(28),i=n(0);t.exports={hasMillisRes:function(t){let e=i.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));e=i.join(o.tmpdir(),e);const n=new Date(1435410243862);r.writeFile(e,"https://github.com/jprichardson/node-fs-extra/pull/141",o=>{if(o)return t(o);r.open(e,"r+",(o,i)=>{if(o)return t(o);r.futimes(i,n,n,n=>{if(n)return t(n);r.close(i,n=>{if(n)return t(n);r.stat(e,(e,n)=>{if(e)return t(e);t(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let t=i.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));t=i.join(o.tmpdir(),t);const e=new Date(1435410243862);r.writeFileSync(t,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(t,"r+");return r.futimesSync(n,e,e),r.closeSync(n),r.statSync(t).mtime>1435410243e3},timeRemoveMillis:function(t){if("number"==typeof t)return 1e3*Math.floor(t/1e3);if(t instanceof Date)return new Date(1e3*Math.floor(t.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(t,e,n,o){r.open(t,"r+",(t,i)=>{if(t)return o(t);r.futimes(i,e,n,t=>{r.close(i,e=>{o&&o(t||e)})})})},utimesMillisSync:function(t,e,n){const o=r.openSync(t,"r+");return r.futimesSync(o,e,n),r.closeSync(o)}}},function(t,e,n){"use strict";t.exports=function(t){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(t)}catch(e){return new Buffer(t)}return new Buffer(t)}},function(t,e,n){"use strict";const r=n(2).fromCallback;t.exports={copy:r(n(29))}},function(t,e){t.exports=require("child_process")},function(t,e,n){"use strict";n.r(e);n(18)},function(t,e,n){const r=n(19),o=n(16),i=n(0),c=n(45),s=n(46),u=n(47);var a=process.cwd().replace(/\\/g,"/");
//! 명령줄 인수
const l=process.argv.slice(2);if(!l[1]||""===l[1])return void console.warn("node index.js tslist.txt TMP-000");let f,p=l[1]||"TMP-000",d=`${a}/.tmp-avgle~${p}`.replace(/\\/g,"/"),y=[];String.prototype.splitOnLast=function(t){var e=this.lastIndexOf(t)+1;return 0>e?this:this.substr(e)};let m=new class{constructor(){this._isError=!1}processLine(t){const e=t.splitOnLast("/");y.push(t),y.push(`  dir=${d}`),y.push(`  out=${e}`)}createConcatList(){var t=r.readdirSync(d.replace(/\\/g,"/")),e=/seg-([0-9]+)-v1-a1.ts/i,n=[],o=0,c="",s=!1;if(t.forEach(t=>{if(e.exec(t)){var n=Number(RegExp.$1);n>o&&(o=n)}}),o>0&&(s=!0),s){for(var u=1;u<=o;u++)r.existsSync(i.join(d,`seg-${u}-v1-a1.ts`))&&n.push(`file seg-${u}-v1-a1.ts`);if(c=n.join("\n"),r.existsSync(d))return r.writeFileSync(i.join(d,"concat.list").replace(/\\/g,"/"),c,"utf8"),!0}return!1}removeFiles(){const t={input:i.join(a,"input.txt").replace(/\\/g,"/"),log:i.join(a,"log.txt").replace(/\\/g,"/"),tslist:i.join(a,"tslist.txt").replace(/\\/g,"/")};r.existsSync(t.input)&&r.removeSync(t.input),r.existsSync(t.log)&&!this._isError&&r.removeSync(t.log),r.existsSync(t.tslist)&&r.removeSync(t.tslist)}removeFolders(){r.remove(d).then(()=>{console.log(`${d} 폴더를 제거하였습니다.`),console.log("동영상 파일 인코딩이 완료되었습니다.")}).catch(()=>{console.log(`${d} 폴더 삭제에 실패하였습니다.`)})}encodingVideoWindows(){if(!this.createConcatList())throw new Error("concat.list 생성에 실패하였습니다.");let t=o.exec(`ffmpeg -f concat -i concat.list -bsf:a aac_adtstoasc -c copy ../${p}.mp4 -loglevel error`,{cwd:d,encoding:"utf8",shell:!0},(function(t,e,n){t?console.log(t):console.log(`it has completed to convert *.ts -> ${p}.mp4`)}));t.stdout.on("data",(function(t){console.log(t)})),t.on("exit",(t,e)=>{this.removeFiles(),"remain"!==l[2]&&this.removeFolders()}),process.on("beforeExit",()=>t.kill())}encodingVideoCygwin(){var t=i.join(a,"run.sh").replace(/\\/g,"/");r.existsSync(s.cygwinPath)||console.log("cygwin이 설치되어있지 않습니다.");let e=o.exec(`${s.cygwinPath} -c '${t} ${p}'`.replace(/'/g,"'"),{cwd:d,encoding:"utf8",shell:!0},(function(t,e,n){t?console.log(t):console.log(`it has completed to convert *.ts -> ${p}.mp4`)}));e.stdout.on("data",(function(t){console.log(t)})),e.on("exit",(t,e)=>{this.removeFiles(),this.removeFolders()}),process.on("beforeExit",()=>e.kill())}convertForCommand(){if(console.log("오류가 발생하여 FFMPEG 작업을 생략합니다."),console.log(`오류 코드 및 시그널 => ${code}, ${signal}`),this.removeFiles(),r.existsSync(d)){o.exec(`copy /b *.ts ..\\${p}.ts`,{cwd:d,encoding:"utf8",shell:!0},(t,e,n)=>{t&&console.warn(t)}).on("exit",(t,e)=>{console.log("동영상 파일 작업이 완료되었습니다."),this.removeFolders()})}}loadTsList(){const t=l[0]||"tslist.txt";if(!r.existsSync(t))throw new Error(`${t} 파일이 없습니다.`);if(r.lstatSync(t).isDirectory())throw new Error(`${t}은 제대로된 파일 주소가 아닙니다.`);const e=r.createReadStream(t,"utf8"),n=c.createInterface({input:e,crlfDelay:1/0});n.on("line",this.processLine.bind(this)),n.on("close",()=>{f=y.join("\r\n"),r.writeFileSync(s.inputFile,f,"utf8");let t={referrer:s.referrer,userAgent:s.userAgent,inputFile:`${s.inputFile}`,logFile:`${a}/${s.logFile}`},e=new u(t,(function(t,e,n){if(t)return console.log(t),void(this._isError=!0)}));e.onExit((t,e)=>{console.log(`[리턴 코드 : ${t}]FFMPEG 작업을 시작합니다.`),this.encodingVideoWindows(),this._isError=!1}),e.pendingTerminate()})}};switch(l[2]){case"concat":m.createConcatList();break;case"export":m.encodingVideoWindows();break;default:m.loadTsList()}},function(t,e,n){"use strict";t.exports=Object.assign({},n(8),n(11),n(15),n(30),n(32),n(38),n(3),n(42),n(43),n(44),n(4),n(6));const r=n(5);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(t.exports,"promises",{get:()=>r.promises})},function(t,e,n){var r=n(9),o=n(21),i=process.cwd,c=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return c||(c=i.call(process)),c};try{process.cwd()}catch(t){}var u=process.chdir;function a(t){return t?function(e,n,o){return t.call(r,e,n,(function(t){m(t)&&(t=null),o&&o.apply(this,arguments)}))}:t}function l(t){return t?function(e,n){try{return t.call(r,e,n)}catch(t){if(!m(t))throw t}}:t}function f(t){return t?function(e,n,o,i){return t.call(r,e,n,o,(function(t){m(t)&&(t=null),i&&i.apply(this,arguments)}))}:t}function p(t){return t?function(e,n,o){try{return t.call(r,e,n,o)}catch(t){if(!m(t))throw t}}:t}function d(t){return t?function(e,n){return t.call(r,e,(function(t,e){if(!e)return n.apply(this,arguments);e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296),n&&n.apply(this,arguments)}))}:t}function y(t){return t?function(e){var n=t.call(r,e);return n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296),n}:t}function m(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}process.chdir=function(t){c=null,u.call(process,t)},t.exports=function(t){o.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,r){t.open(e,o.O_WRONLY|o.O_SYMLINK,n,(function(e,o){e?r&&r(e):t.fchmod(o,n,(function(e){t.close(o,(function(t){r&&r(e||t)}))}))}))},t.lchmodSync=function(e,n){var r,i=t.openSync(e,o.O_WRONLY|o.O_SYMLINK,n),c=!0;try{r=t.fchmodSync(i,n),c=!1}finally{if(c)try{t.closeSync(i)}catch(t){}else t.closeSync(i)}return r}}(t);t.lutimes||function(t){o.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,r,i){t.open(e,o.O_SYMLINK,(function(e,o){e?i&&i(e):t.futimes(o,n,r,(function(e){t.close(o,(function(t){i&&i(e||t)}))}))}))},t.lutimesSync=function(e,n,r){var i,c=t.openSync(e,o.O_SYMLINK),s=!0;try{i=t.futimesSync(c,n,r),s=!1}finally{if(s)try{t.closeSync(c)}catch(t){}else t.closeSync(c)}return i}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=f(t.chown),t.fchown=f(t.fchown),t.lchown=f(t.lchown),t.chmod=a(t.chmod),t.fchmod=a(t.fchmod),t.lchmod=a(t.lchmod),t.chownSync=p(t.chownSync),t.fchownSync=p(t.fchownSync),t.lchownSync=p(t.lchownSync),t.chmodSync=l(t.chmodSync),t.fchmodSync=l(t.fchmodSync),t.lchmodSync=l(t.lchmodSync),t.stat=d(t.stat),t.fstat=d(t.fstat),t.lstat=d(t.lstat),t.statSync=y(t.statSync),t.fstatSync=y(t.fstatSync),t.lstatSync=y(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===s&&(t.rename=(e=t.rename,function(n,r,o){var i=Date.now(),c=0;e(n,r,(function s(u){if(u&&("EACCES"===u.code||"EPERM"===u.code)&&Date.now()-i<6e4)return setTimeout((function(){t.stat(r,(function(t,i){t&&"ENOENT"===t.code?e(n,r,s):o(u)}))}),c),void(c<100&&(c+=10));o&&o(u)}))}));var e;t.read=(r=t.read,function(e,n,o,i,c,s){var u;if(s&&"function"==typeof s){var a=0;u=function(l,f,p){if(l&&"EAGAIN"===l.code&&a<10)return a++,r.call(t,e,n,o,i,c,u);s.apply(this,arguments)}}return r.call(t,e,n,o,i,c,u)}),t.readSync=(n=t.readSync,function(e,r,o,i,c){for(var s=0;;)try{return n.call(t,e,r,o,i,c)}catch(t){if("EAGAIN"===t.code&&s<10){s++;continue}throw t}});var n;var r}},function(t,e){t.exports=require("constants")},function(t,e,n){var r=n(23).Stream;t.exports=function(t){return{ReadStream:function e(n,o){if(!(this instanceof e))return new e(n,o);r.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var c=Object.keys(o),s=0,u=c.length;s<u;s++){var a=c[s];this[a]=o[a]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){i._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return i.emit("error",t),void(i.readable=!1);i.fd=e,i.emit("open",e),i._read()}))},WriteStream:function e(n,o){if(!(this instanceof e))return new e(n,o);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),c=0,s=i.length;c<s;c++){var u=i[c];this[u]=o[u]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("util")},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(3).mkdirsSync,c=n(13).utimesMillisSync,s=Symbol("notExist");function u(t,e,n,i){if(!i.filter||i.filter(e,n))return function(t,e,n,i){const c=(i.dereference?r.statSync:r.lstatSync)(e);if(c.isDirectory())return function(t,e,n,o,i){if(e===s)return function(t,e,n,o){return r.mkdirSync(n),l(e,n,o),r.chmodSync(n,t.mode)}(t,n,o,i);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${o}' with directory '${n}'.`);return l(n,o,i)}(c,t,e,n,i);if(c.isFile()||c.isCharacterDevice()||c.isBlockDevice())return function(t,e,n,o,i){return e===s?a(t,n,o,i):function(t,e,n,o){if(o.overwrite)return r.unlinkSync(n),a(t,e,n,o);if(o.errorOnExist)throw new Error(`'${n}' already exists`)}(t,n,o,i)}(c,t,e,n,i);if(c.isSymbolicLink())return function(t,e,n,i){let c=r.readlinkSync(e);i.dereference&&(c=o.resolve(process.cwd(),c));if(t===s)return r.symlinkSync(c,n);{let t;try{t=r.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return r.symlinkSync(c,n);throw t}if(i.dereference&&(t=o.resolve(process.cwd(),t)),f(c,t))throw new Error(`Cannot copy '${c}' to a subdirectory of itself, '${t}'.`);if(r.statSync(n).isDirectory()&&f(t,c))throw new Error(`Cannot overwrite '${t}' with '${c}'.`);return function(t,e){return r.unlinkSync(e),r.symlinkSync(t,e)}(c,n)}}(t,e,n,i)}(t,e,n,i)}function a(t,e,o,i){return"function"==typeof r.copyFileSync?(r.copyFileSync(e,o),r.chmodSync(o,t.mode),i.preserveTimestamps?c(o,t.atime,t.mtime):void 0):function(t,e,o,i){const c=n(14)(65536),s=r.openSync(e,"r"),u=r.openSync(o,"w",t.mode);let a=0;for(;a<t.size;){const t=r.readSync(s,c,0,65536,a);r.writeSync(u,c,0,t),a+=t}i.preserveTimestamps&&r.futimesSync(u,t.atime,t.mtime);r.closeSync(s),r.closeSync(u)}(t,e,o,i)}function l(t,e,n){r.readdirSync(t).forEach(r=>function(t,e,n,r){const i=o.join(e,t),c=o.join(n,t);return u(p(i,c),i,c,r)}(r,t,e,n))}function f(t,e){const n=o.resolve(t).split(o.sep),r=o.resolve(e).split(o.sep);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function p(t,e){const{srcStat:n,destStat:o}=function(t,e){const n=r.statSync(t);let o;try{o=r.statSync(e)}catch(t){if("ENOENT"===t.code)return{srcStat:n,destStat:s};throw t}return{srcStat:n,destStat:o}}(t,e);if(o.ino&&o.ino===n.ino)throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&f(t,e))throw new Error(`Cannot copy '${t}' to a subdirectory of itself, '${e}'.`);return o}t.exports=function(t,e,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const c=p(t,e);if(n.filter&&!n.filter(t,e))return;const s=o.dirname(e);return r.existsSync(s)||i(s),u(c,t,e,n)}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(12).invalidWin32Path,c=parseInt("0777",8);t.exports=function t(e,n,s,u){if("function"==typeof n?(s=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&i(e)){const t=new Error(e+" contains invalid WIN32 path characters.");return t.code="EINVAL",s(t)}let a=n.mode;const l=n.fs||r;void 0===a&&(a=c&~process.umask()),u||(u=null),s=s||function(){},e=o.resolve(e),l.mkdir(e,a,r=>{if(!r)return s(null,u=u||e);switch(r.code){case"ENOENT":if(o.dirname(e)===e)return s(r);t(o.dirname(e),n,(r,o)=>{r?s(r,o):t(e,n,s,o)});break;default:l.stat(e,(t,e)=>{t||!e.isDirectory()?s(r,u):s(null,u)})}})}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(12).invalidWin32Path,c=parseInt("0777",8);t.exports=function t(e,n,s){n&&"object"==typeof n||(n={mode:n});let u=n.mode;const a=n.fs||r;if("win32"===process.platform&&i(e)){const t=new Error(e+" contains invalid WIN32 path characters.");throw t.code="EINVAL",t}void 0===u&&(u=c&~process.umask()),s||(s=null),e=o.resolve(e);try{a.mkdirSync(e,u),s=s||e}catch(r){if("ENOENT"===r.code){if(o.dirname(e)===e)throw r;s=t(o.dirname(e),n,s),t(e,n,s)}else{let t;try{t=a.statSync(e)}catch(t){throw r}if(!t.isDirectory())throw r}}return s}},function(t,e){t.exports=require("os")},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(3).mkdirs,c=n(4).pathExists,s=n(13).utimesMillis,u=Symbol("notExist");function a(t,e,n,r,s){const u=o.dirname(n);c(u,(o,c)=>o?s(o):c?f(t,e,n,r,s):void i(u,o=>o?s(o):f(t,e,n,r,s)))}function l(t,e,n,r,o,i){Promise.resolve(o.filter(n,r)).then(c=>c?e?t(e,n,r,o,i):t(n,r,o,i):i(),t=>i(t))}function f(t,e,n,r,o){return r.filter?l(p,t,e,n,r,o):p(t,e,n,r,o)}function p(t,e,n,i,c){(i.dereference?r.stat:r.lstat)(e,(s,a)=>s?c(s):a.isDirectory()?function(t,e,n,o,i,c){if(e===u)return function(t,e,n,o,i){r.mkdir(n,c=>{if(c)return i(c);m(e,n,o,e=>e?i(e):r.chmod(n,t.mode,i))})}(t,n,o,i,c);if(e&&!e.isDirectory())return c(new Error(`Cannot overwrite non-directory '${o}' with directory '${n}'.`));return m(n,o,i,c)}(a,t,e,n,i,c):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(t,e,n,o,i,c){return e===u?d(t,n,o,i,c):function(t,e,n,o,i){if(!o.overwrite)return o.errorOnExist?i(new Error(`'${n}' already exists`)):i();r.unlink(n,r=>r?i(r):d(t,e,n,o,i))}(t,n,o,i,c)}(a,t,e,n,i,c):a.isSymbolicLink()?function(t,e,n,i,c){r.readlink(e,(e,s)=>e?c(e):(i.dereference&&(s=o.resolve(process.cwd(),s)),t===u?r.symlink(s,n,c):void r.readlink(n,(e,u)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?r.symlink(s,n,c):c(e):(i.dereference&&(u=o.resolve(process.cwd(),u)),S(s,u)?c(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${u}'.`)):t.isDirectory()&&S(u,s)?c(new Error(`Cannot overwrite '${u}' with '${s}'.`)):function(t,e,n){r.unlink(e,o=>o?n(o):r.symlink(t,e,n))}(s,n,c)))))}(t,e,n,i,c):void 0)}function d(t,e,n,o,i){return"function"==typeof r.copyFile?r.copyFile(e,n,e=>e?i(e):y(t,n,o,i)):function(t,e,n,o,i){const c=r.createReadStream(e);c.on("error",t=>i(t)).once("open",()=>{const e=r.createWriteStream(n,{mode:t.mode});e.on("error",t=>i(t)).on("open",()=>c.pipe(e)).once("close",()=>y(t,n,o,i))})}(t,e,n,o,i)}function y(t,e,n,o){r.chmod(e,t.mode,r=>r?o(r):n.preserveTimestamps?s(e,t.atime,t.mtime,o):o())}function m(t,e,n,o){r.readdir(t,(r,i)=>r?o(r):h(i,t,e,n,o))}function h(t,e,n,r,i){const c=t.pop();return c?function(t,e,n,r,i,c){const s=o.join(n,e),u=o.join(r,e);w(s,u,(e,o)=>{if(e)return c(e);f(o,s,u,i,e=>e?c(e):h(t,n,r,i,c))})}(t,c,e,n,r,i):i()}function S(t,e){const n=o.resolve(t).split(o.sep),r=o.resolve(e).split(o.sep);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function w(t,e,n){!function(t,e,n){r.stat(t,(t,o)=>{if(t)return n(t);r.stat(e,(t,e)=>t?"ENOENT"===t.code?n(null,{srcStat:o,destStat:u}):n(t):n(null,{srcStat:o,destStat:e}))})}(t,e,(r,o)=>{if(r)return n(r);const{srcStat:i,destStat:c}=o;return c.ino&&c.ino===i.ino?n(new Error("Source and destination must not be the same.")):i.isDirectory()&&S(t,e)?n(new Error(`Cannot copy '${t}' to a subdirectory of itself, '${e}'.`)):n(null,c)})}t.exports=function(t,e,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),w(t,e,(o,i)=>o?r(o):n.filter?l(a,i,t,e,n,r):a(i,t,e,n,r))}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(5),i=n(0),c=n(3),s=n(6),u=r((function(t,e){e=e||function(){},o.readdir(t,(n,r)=>{if(n)return c.mkdirs(t,e);r=r.map(e=>i.join(t,e)),function t(){const n=r.pop();if(!n)return e();s.remove(n,n=>{if(n)return e(n);t()})}()})}));function a(t){let e;try{e=o.readdirSync(t)}catch(e){return c.mkdirsSync(t)}e.forEach(e=>{e=i.join(t,e),s.removeSync(e)})}t.exports={emptyDirSync:a,emptydirSync:a,emptyDir:u,emptydir:u}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(10),c="win32"===process.platform;function s(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||r[e],t[e+="Sync"]=t[e]||r[e]}),t.maxBusyTries=t.maxBusyTries||3}function u(t,e,n){let r=0;"function"==typeof e&&(n=e,e={}),i(t,"rimraf: missing path"),i.strictEqual(typeof t,"string","rimraf: path should be a string"),i.strictEqual(typeof n,"function","rimraf: callback function required"),i(e,"rimraf: invalid options argument provided"),i.strictEqual(typeof e,"object","rimraf: options should be object"),s(e),a(t,e,(function o(i){if(i){if(("EBUSY"===i.code||"ENOTEMPTY"===i.code||"EPERM"===i.code)&&r<e.maxBusyTries){return r++,setTimeout(()=>a(t,e,o),100*r)}"ENOENT"===i.code&&(i=null)}n(i)}))}function a(t,e,n){i(t),i(e),i("function"==typeof n),e.lstat(t,(r,o)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&c?l(t,e,r,n):o&&o.isDirectory()?p(t,e,r,n):void e.unlink(t,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return c?l(t,e,r,n):p(t,e,r,n);if("EISDIR"===r.code)return p(t,e,r,n)}return n(r)}))}function l(t,e,n,r){i(t),i(e),i("function"==typeof r),n&&i(n instanceof Error),e.chmod(t,438,o=>{o?r("ENOENT"===o.code?null:n):e.stat(t,(o,i)=>{o?r("ENOENT"===o.code?null:n):i.isDirectory()?p(t,e,n,r):e.unlink(t,r)})})}function f(t,e,n){let r;i(t),i(e),n&&i(n instanceof Error);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw n}try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?y(t,e,n):e.unlinkSync(t)}function p(t,e,n,r){i(t),i(e),n&&i(n instanceof Error),i("function"==typeof r),e.rmdir(t,c=>{!c||"ENOTEMPTY"!==c.code&&"EEXIST"!==c.code&&"EPERM"!==c.code?c&&"ENOTDIR"===c.code?r(n):r(c):function(t,e,n){i(t),i(e),i("function"==typeof n),e.readdir(t,(r,i)=>{if(r)return n(r);let c,s=i.length;if(0===s)return e.rmdir(t,n);i.forEach(r=>{u(o.join(t,r),e,r=>{if(!c)return r?n(c=r):void(0==--s&&e.rmdir(t,n))})})})}(t,e,r)})}function d(t,e){let n;s(e=e||{}),i(t,"rimraf: missing path"),i.strictEqual(typeof t,"string","rimraf: path should be a string"),i(e,"rimraf: missing options"),i.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&c&&f(t,e,n)}try{n&&n.isDirectory()?y(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return c?f(t,e,n):y(t,e,n);if("EISDIR"!==n.code)throw n;y(t,e,n)}}function y(t,e,n){i(t),i(e),n&&i(n instanceof Error);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(i(t),i(e),e.readdirSync(t).forEach(n=>d(o.join(t,n),e)),!c){return e.rmdirSync(t,e)}{const n=Date.now();do{try{return e.rmdirSync(t,e)}catch(t){}}while(Date.now()-n<500)}}(t,e);else if("ENOENT"!==r.code)throw r}}t.exports=u,u.sync=d},function(t,e,n){"use strict";const r=n(33),o=n(34),i=n(35);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:o.createLink,createLinkSync:o.createLinkSync,ensureLink:o.createLink,ensureLinkSync:o.createLinkSync,createSymlink:i.createSymlink,createSymlinkSync:i.createSymlinkSync,ensureSymlink:i.createSymlink,ensureSymlinkSync:i.createSymlinkSync}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(0),i=n(1),c=n(3),s=n(4).pathExists;t.exports={createFile:r((function(t,e){function n(){i.writeFile(t,"",t=>{if(t)return e(t);e()})}i.stat(t,(r,i)=>{if(!r&&i.isFile())return e();const u=o.dirname(t);s(u,(t,r)=>t?e(t):r?n():void c.mkdirs(u,t=>{if(t)return e(t);n()}))})})),createFileSync:function(t){let e;try{e=i.statSync(t)}catch(t){}if(e&&e.isFile())return;const n=o.dirname(t);i.existsSync(n)||c.mkdirsSync(n),i.writeFileSync(t,"")}}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(0),i=n(1),c=n(3),s=n(4).pathExists;t.exports={createLink:r((function(t,e,n){function r(t,e){i.link(t,e,t=>{if(t)return n(t);n(null)})}s(e,(u,a)=>u?n(u):a?n(null):void i.lstat(t,i=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),n(i);const u=o.dirname(e);s(u,(o,i)=>o?n(o):i?r(t,e):void c.mkdirs(u,o=>{if(o)return n(o);r(t,e)}))}))})),createLinkSync:function(t,e){if(i.existsSync(e))return;try{i.lstatSync(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const n=o.dirname(e);return i.existsSync(n)?i.linkSync(t,e):(c.mkdirsSync(n),i.linkSync(t,e))}}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(0),i=n(1),c=n(3),s=c.mkdirs,u=c.mkdirsSync,a=n(36),l=a.symlinkPaths,f=a.symlinkPathsSync,p=n(37),d=p.symlinkType,y=p.symlinkTypeSync,m=n(4).pathExists;t.exports={createSymlink:r((function(t,e,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,m(e,(c,u)=>c?r(c):u?r(null):void l(t,e,(c,u)=>{if(c)return r(c);t=u.toDst,d(u.toCwd,n,(n,c)=>{if(n)return r(n);const u=o.dirname(e);m(u,(n,o)=>n?r(n):o?i.symlink(t,e,c,r):void s(u,n=>{if(n)return r(n);i.symlink(t,e,c,r)}))})}))})),createSymlinkSync:function(t,e,n){if(i.existsSync(e))return;const r=f(t,e);t=r.toDst,n=y(r.toCwd,n);const c=o.dirname(e);return i.existsSync(c)?i.symlinkSync(t,e,n):(u(c),i.symlinkSync(t,e,n))}}},function(t,e,n){"use strict";const r=n(0),o=n(1),i=n(4).pathExists;t.exports={symlinkPaths:function(t,e,n){if(r.isAbsolute(t))return o.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t}));{const c=r.dirname(e),s=r.join(c,t);return i(s,(e,i)=>e?n(e):i?n(null,{toCwd:s,toDst:t}):o.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:r.relative(c,t)})))}},symlinkPathsSync:function(t,e){let n;if(r.isAbsolute(t)){if(n=o.existsSync(t),!n)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const i=r.dirname(e),c=r.join(i,t);if(n=o.existsSync(c),n)return{toCwd:c,toDst:t};if(n=o.existsSync(t),!n)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(i,t)}}}}},function(t,e,n){"use strict";const r=n(1);t.exports={symlinkType:function(t,e,n){if(n="function"==typeof e?e:n,e="function"!=typeof e&&e)return n(null,e);r.lstat(t,(t,r)=>{if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)})},symlinkTypeSync:function(t,e){let n;if(e)return e;try{n=r.lstatSync(t)}catch(t){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(7);o.outputJson=r(n(40)),o.outputJsonSync=n(41),o.outputJSON=o.outputJson,o.outputJSONSync=o.outputJsonSync,o.writeJSON=o.writeJson,o.writeJSONSync=o.writeJsonSync,o.readJSON=o.readJson,o.readJSONSync=o.readJsonSync,t.exports=o},function(t,e,n){var r;try{r=n(1)}catch(t){r=n(5)}function o(t,e){var n,r="\n";return"object"==typeof e&&null!==e&&(e.spaces&&(n=e.spaces),e.EOL&&(r=e.EOL)),JSON.stringify(t,e?e.replacer:null,n).replace(/\n/g,r)+r}function i(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\uFEFF/,"")}var c={readFile:function(t,e,n){null==n&&(n=e,e={}),"string"==typeof e&&(e={encoding:e});var o=(e=e||{}).fs||r,c=!0;"throws"in e&&(c=e.throws),o.readFile(t,e,(function(r,o){if(r)return n(r);var s;o=i(o);try{s=JSON.parse(o,e?e.reviver:null)}catch(e){return c?(e.message=t+": "+e.message,n(e)):n(null,null)}n(null,s)}))},readFileSync:function(t,e){"string"==typeof(e=e||{})&&(e={encoding:e});var n=e.fs||r,o=!0;"throws"in e&&(o=e.throws);try{var c=n.readFileSync(t,e);return c=i(c),JSON.parse(c,e.reviver)}catch(e){if(o)throw e.message=t+": "+e.message,e;return null}},writeFile:function(t,e,n,i){null==i&&(i=n,n={});var c=(n=n||{}).fs||r,s="";try{s=o(e,n)}catch(t){return void(i&&i(t,null))}c.writeFile(t,s,n,i)},writeFileSync:function(t,e,n){var i=(n=n||{}).fs||r,c=o(e,n);return i.writeFileSync(t,c,n)}};t.exports=c},function(t,e,n){"use strict";const r=n(0),o=n(3),i=n(4).pathExists,c=n(7);t.exports=function(t,e,n,s){"function"==typeof n&&(s=n,n={});const u=r.dirname(t);i(u,(r,i)=>r?s(r):i?c.writeJson(t,e,n,s):void o.mkdirs(u,r=>{if(r)return s(r);c.writeJson(t,e,n,s)}))}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(3),c=n(7);t.exports=function(t,e,n){const s=o.dirname(t);r.existsSync(s)||i.mkdirsSync(s),c.writeJsonSync(t,e,n)}},function(t,e,n){"use strict";const r=n(1),o=n(0),i=n(11).copySync,c=n(6).removeSync,s=n(3).mkdirsSync,u=n(14);function a(t,e,n){return r.statSync(t).isDirectory()?function(t,e,n){const r={overwrite:!1};n?(c(e),o()):o();function o(){return i(t,e,r),c(t)}}(t,e,n):function(t,e,n){const o=u(65536),i=n?"w":"wx",c=r.openSync(t,"r"),s=r.fstatSync(c),a=r.openSync(e,i,s.mode);let l=0;for(;l<s.size;){const t=r.readSync(c,o,0,65536,l);r.writeSync(a,o,0,t),l+=t}return r.closeSync(c),r.closeSync(a),r.unlinkSync(t)}(t,e,n)}t.exports={moveSync:function t(e,n,i){const u=(i=i||{}).overwrite||i.clobber||!1;if(e=o.resolve(e),n=o.resolve(n),e===n)return r.accessSync(e);if(function(t,e){try{return r.statSync(t).isDirectory()&&t!==e&&e.indexOf(t)>-1&&e.split(o.dirname(t)+o.sep)[1].split(o.sep)[0]===o.basename(t)}catch(t){return!1}}(e,n))throw new Error(`Cannot move '${e}' into itself '${n}'.`);s(o.dirname(n)),function(){if(u)try{r.renameSync(e,n)}catch(r){if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)return c(n),i.overwrite=!1,t(e,n,i);if("EXDEV"!==r.code)throw r;return a(e,n,u)}else try{r.linkSync(e,n),r.unlinkSync(e)}catch(t){if("EXDEV"===t.code||"EISDIR"===t.code||"EPERM"===t.code||"ENOTSUP"===t.code)return a(e,n,u);throw t}}()}}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(1),i=n(0),c=n(15).copy,s=n(6).remove,u=n(3).mkdirp,a=n(4).pathExists;function l(t,e,n,r){o.rename(t,e,o=>o?"EXDEV"!==o.code?r(o):function(t,e,n,r){c(t,e,{overwrite:n,errorOnExist:!0},e=>e?r(e):s(t,r))}(t,e,n,r):r())}t.exports={move:r((function(t,e,n,r){"function"==typeof n&&(r=n,n={});const c=n.overwrite||n.clobber||!1;if(t=i.resolve(t),e=i.resolve(e),t===e)return o.access(t,r);o.stat(t,(n,o)=>n?r(n):o.isDirectory()&&function(t,e){const n=t.split(i.sep),r=e.split(i.sep);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}(t,e)?r(new Error(`Cannot move '${t}' to a subdirectory of itself, '${e}'.`)):void u(i.dirname(e),n=>n?r(n):function(t,e,n,r){if(n)return s(e,o=>o?r(o):l(t,e,n,r));a(e,(o,i)=>o?r(o):i?r(new Error("dest already exists.")):l(t,e,n,r))}(t,e,c,r)))}))}},function(t,e,n){"use strict";const r=n(2).fromCallback,o=n(1),i=n(0),c=n(3),s=n(4).pathExists;t.exports={outputFile:r((function(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");const u=i.dirname(t);s(u,(i,s)=>i?r(i):s?o.writeFile(t,e,n,r):void c.mkdirs(u,i=>{if(i)return r(i);o.writeFile(t,e,n,r)}))})),outputFileSync:function(t,...e){const n=i.dirname(t);if(o.existsSync(n))return o.writeFileSync(t,...e);c.mkdirsSync(n),o.writeFileSync(t,...e)}}},function(t,e){t.exports=require("readline")},function(t,e){t.exports={referrer:"https://avgle.com",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.131 Safari/537.36",inputFile:"input.txt",logFile:"log.txt",cygwinPath:"E://cygwin64/bin/bash.exe"}},function(t,e,n){const r=n(16);t.exports=class{get internel(){return this._process}constructor(t,e){this._header=t,this._callback=e,this._process=null,this._args=null,this.makeCommand(),this.run()}makeCommand(){const t=this._header.referrer,e=this._header.userAgent,n=this._header.inputFile;this._header.logFile;this._args=[`--referer=${t}`,`--user-agent=${e}`,"--show-files","--continue=true","--retry-wait=2","--split=6",`-i ${n}`,"--log-level=info"]}run(){return this._process=r.execFile("aria2c",this._args,{encoding:"utf8",maxBuffer:1048576},this._callback),this._process.stdout.on("data",(function(t){console.clear(),console.log(t)})),this._process.stdout.on("end",(function(t){console.log(t)})),this._process.stdin.end(),this}pendingTerminate(){this._process&&this._process.on("beforeExit",()=>this._process.kill())}onExit(t){this._process&&this._process.on("exit",t)}}}]);